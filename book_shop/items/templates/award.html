{% extends 'base.html' %}
{% load crispy_forms_tags %}
{% load static %}
{% load book_filters %}

{% block title %}{{ award.name }}{% endblock %}

{% block custom_css %}
<link rel="stylesheet" href="{% static 'css/book.css' %}">
{% endblock %}

{% block content %}
<div class="container mt-5">
    <h1 class="text-center mb-4">"{{ award.name }}"</h1>

    <div class="card shadow-sm mb-4">
        <div class="row g-0">
            <!-- Award Details -->
            <div class="col-md-8">
                <div class="card-body">
                    <h5 class="card-title"><strong>Details</strong></h5>
                    <p class="card-text" style="margin-left: 20px;">
                        <strong>Name:</strong> {{ award.name }}
                    </p>
                    <p class="card-text" style="margin-left: 20px;">
                        <strong>Year awarded:</strong> {{ award.year_awarded|default:"N/A" }}
                    </p>
                    <p class="card-text" style="margin-left: 20px;">
                        <strong>Receiver:</strong>
                        {% if award.author %}
                            <a href="{% url 'author-detail' award.author.id %}">{{ award.author.name }}</a>
                        {% else %}
                            <span class="text-muted">No author available</span>
                        {% endif %}
                    </p>
                    <p class="card-text" style="margin-left: 20px;">
                        <strong>Website:</strong>
                        {% if award.website %}
                            <a href="{{ award.website }}" target="_blank" rel="noopener noreferrer">{{ award.website }}</a>
                        {% else %}
                            <span class="text-muted">No website available</span>
                        {% endif %}
                    </p>
                    <p class="card-text" style="margin-left: 20px;">
                        <strong>Views Count:</strong> {{ award.view_count|default:0 }}
                    </p>
                </div>
            </div>

            <!-- Award Photo -->
            <div class="col-md-4 text-center">
                {% if award.photo %}
                    <img src="{{ award.photo.url }}" class="img-fluid rounded-start p-4" alt="Award Photo" style="max-height: 400px; object-fit: cover;">
                {% else %}
                    <img src="{% static 'award.jpeg' %}" class="img-fluid rounded-start p-4" alt="Default Award Photo" style="max-height: 400px; object-fit: cover;">
                {% endif %}
            </div>
        </div>
    </div>

    <!-- Description Card -->
    <div class="card shadow-sm mb-4">
        <div class="card-body">
            <h5 class="card-title"><strong>Description</strong></h5>
            {% if award.description %}
                <p class="card-text">{{ award.description }}</p>
            {% else %}
                <p class="card-text text-muted">No description available.</p>
            {% endif %}
        </div>
    </div>
</div>

{% endblock %}

{% block custom_js %}
<script src="{% static 'js/book.js' %}" defer></script>
{% endblock %}